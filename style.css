:root{
  --ui-bg:#111827; /* slate-900 */
  --ui-fg:#e5e7eb; /* gray-200 */
  --accent:#22d3ee; /* cyan-400 */
  --accent-2:#a78bfa; /* violet-400 */
  --danger:#ef4444;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:#0b1020;color:var(--ui-fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
.wrap{display:grid;grid-template-columns:minmax(0,1fr) minmax(0,min(34vw,380px));gap:10px;height:100vh;padding:10px;min-height:0}
.panel{background:var(--ui-bg);border:1px solid #1f2937;border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,.35);overflow:hidden}
#game{position:relative}
#canvas{display:block;width:100%;height:100%;border-radius:14px;background:#0a0f1a}
.hud{position:absolute;inset:0;pointer-events:none}
.topbar{position:absolute;left:12px;top:12px;display:flex;gap:8px;pointer-events:auto}
.chip{background:rgba(0,0,0,.5);backdrop-filter:blur(6px);border:1px solid #243244;color:#d1d5db;padding:6px 10px;border-radius:999px;font-size:12px}
.rightbar{position:absolute;right:12px;top:12px;display:flex;gap:8px;pointer-events:auto}
.timebar{position:absolute;left:50%;top:12px;transform:translateX(-50%);pointer-events:auto}
.meter{width:420px;max-width:60vw;height:10px;border-radius:999px;background:#111827;border:1px solid #1f2937;overflow:hidden}
.meter>div{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent-2));width:0%}
.sidebar{padding:12px;display:grid;grid-template-rows:auto 1fr auto;gap:10px;overflow:auto;min-height:0;max-height:100%;min-width:0;width:100%}
.sidebar>*{min-width:0}
.inv{display:grid;grid-template-columns:repeat(auto-fit,minmax(130px,1fr));gap:8px}
.card{border:1px solid #243244;border-radius:12px;padding:10px}
.row{display:flex;align-items:center;justify-content:space-between;gap:10px;margin:4px 0}
.servants{display:flex;flex-direction:column;gap:8px;font-size:12px;max-height:180px;overflow:auto}
.servant-card{border:1px solid #1f2937;border-radius:10px;padding:8px;display:flex;flex-direction:column;gap:6px;background:#0b1322}
.servant-header{display:flex;align-items:center;justify-content:space-between;gap:6px;font-weight:600}
.servant-needs{display:flex;flex-direction:column;gap:4px}
.need-bar{height:6px;border-radius:999px;background:#1f2937;overflow:hidden}
.need-bar>div{height:100%;background:linear-gradient(90deg,#4ade80,#22d3ee)}
.servant-job{font-size:11px}
.servant-job .row{margin:0}
.servant-job select{background:#111827;color:var(--ui-fg);border:1px solid #1f2937;border-radius:6px;padding:2px 6px;font-size:11px;min-width:110px}
.servant-job select:focus{outline:none;border-color:var(--accent)}
.servant-job .small{margin-top:4px;line-height:1.4}
.btn{all:unset;display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:10px;border:1px solid #243244;background:#0b1322;cursor:pointer}
.btn:hover{border-color:#334155}
.btn.primary{background:linear-gradient(180deg,#0f172a,#0b1322);border-color:#334155}
.btn.warn{border-color:#7f1d1d;background:#1f2937;color:#fecaca}
.btn.block{width:100%;justify-content:center;text-align:center}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:8px;min-height:0}
.small{font-size:12px;color:#9ca3af}
.title{font-weight:700;letter-spacing:.3px}
.kbd{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;background:#0b1322;border:1px solid #243244;padding:1px 6px;border-radius:6px;font-size:12px}
.log{height:120px;overflow:auto;font-size:12px;background:#0b1322;border:1px solid #243244;border-radius:12px;padding:8px;white-space:pre-wrap}
.guide{margin-top:6px;font-size:13px;line-height:1.4}
.guide ol{padding-left:18px;margin:0}
.guide li{margin-bottom:6px}
.game-controls {
  position: fixed;
  top: 12px;
  right: 12px;
  display: flex;
  gap: 8px;
  z-index: 9999;
}

#pauseBtn {
  padding: 6px 12px;
  border: 1px solid #444;
  border-radius: 6px;
  background: #222;
  color: #fff;
  cursor: pointer;
}

#pauseBtn:hover { filter: brightness(1.1); }

#pauseDot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  align-self: center;
  background: #2ecc71; /* green = running */
  display: inline-block;
}

/* When paused, weâ€™ll toggle this class in JS */
.paused #pauseDot { background: #e74c3c; } /* red = paused */

/* Optional: dim the playfield when paused */
.paused .game-canvas,
.paused #gameRoot {
  filter: grayscale(0.2) brightness(0.8);
}

@media (max-width: 900px){.wrap{grid-template-columns:1fr;grid-template-rows:1fr auto}.sidebar{height:45vh}}